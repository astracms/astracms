---
import { getCollection } from "astro:content";
import CategoryFilter from "@/components/CategoryFilter.astro";
import Container from "@/components/Container.astro";
import PostCard from "@/components/PostCard.astro";
import Layout from "@/layouts/Layout.astro";

const posts = await getCollection("posts");
const categories = await getCollection("categories");
---

<Layout
  title="Blog - Astra CMS | Guides, Tips & Product Updates"
  image="/og-blog.jpg"
  description="Read the Astra blog for guides on content management, SEO tips, headless CMS best practices, and product updates. Learn to build better content workflows."
>
  <section class="min-h-[calc(100vh-140px)]">
    <Container class="pt-20 md:pt-28 pb-20 md:pb-28">
      <div class="max-w-xl mx-auto mb-14 space-y-4 text-center">
        <h1 class="text-3xl md:text-4xl font-semibold tracking-tight">Blog</h1>
        <p class="text-muted-foreground">
          Updates, news, and guides from the team.
        </p>
        <CategoryFilter categories={categories}/>
      </div>
      <ul class="grid grid-cols-1 md:grid-cols-2 gap-5 md:gap-6">
        {posts.map((post) => <PostCard entry={post} />)}
      </ul>
    </Container>
  </section>
</Layout>
